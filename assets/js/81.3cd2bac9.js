(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{599:function(t,a,e){"use strict";e.r(a);var r=e(29),o=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_3-4-生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-生命周期"}},[t._v("#")]),t._v(" 3.4-生命周期")]),t._v(" "),e("h2",{attrs:{id:"三个阶段生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三个阶段生命周期"}},[t._v("#")]),t._v(" 三个阶段生命周期")]),t._v(" "),e("h3",{attrs:{id:"创建阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建阶段"}},[t._v("#")]),t._v(" 创建阶段")]),t._v(" "),e("p",[t._v("首先执行的是 constructor，初始化 props 和 state， contructor 之后分别执行 componentWillMount, render 和 componentDidMount, 之后页面操作的时候就是更新阶段，依次执行")]),t._v(" "),e("h3",{attrs:{id:"更新阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新阶段"}},[t._v("#")]),t._v(" 更新阶段")]),t._v(" "),e("p",[t._v("componentDidUpdate")]),t._v(" "),e("ul",[e("li",[t._v("每次 UI 更新时调用")]),t._v(" "),e("li",[t._v("更新一些外部数据资源")])]),t._v(" "),e("h3",{attrs:{id:"卸载阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载阶段"}},[t._v("#")]),t._v(" 卸载阶段")]),t._v(" "),e("p",[t._v("componentWillUnmount")]),t._v(" "),e("ul",[e("li",[t._v("组件移除调用")]),t._v(" "),e("li",[t._v("可以用来做资源的释放")])]),t._v(" "),e("h2",{attrs:{id:"生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),e("h3",{attrs:{id:"创建阶段-constructor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建阶段-constructor"}},[t._v("#")]),t._v(" 创建阶段 constructor")]),t._v(" "),e("ul",[e("li",[t._v("初始化内部状态，显性设置和隐形设置")]),t._v(" "),e("li",[t._v("需要使用 super() 调用基类的构造方法")]),t._v(" "),e("li",[t._v("可以直接修改 state")])]),t._v(" "),e("h3",{attrs:{id:"创建阶段-componentwillmount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建阶段-componentwillmount"}},[t._v("#")]),t._v(" 创建阶段 componentWillMount")]),t._v(" "),e("ul",[e("li",[t._v("UI 渲染完成前调用")]),t._v(" "),e("li",[t._v("只执行一次")]),t._v(" "),e("li",[t._v("这里调用 setState 不会触发 render")])]),t._v(" "),e("h3",{attrs:{id:"创建阶段-render"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建阶段-render"}},[t._v("#")]),t._v(" 创建阶段 render")]),t._v(" "),e("ul",[e("li",[t._v("一个组件必须有的方法")]),t._v(" "),e("li",[t._v("返回一个顶级的 react 元素")]),t._v(" "),e("li",[t._v("渲染的是 Dom Tree 的一个 React 对象")])]),t._v(" "),e("h3",{attrs:{id:"创建阶段-componentdidmount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建阶段-componentdidmount"}},[t._v("#")]),t._v(" 创建阶段 componentDidMount")]),t._v(" "),e("ul",[e("li",[t._v("UI 渲染完成后调用")]),t._v(" "),e("li",[t._v("只执行一次")]),t._v(" "),e("li",[t._v("获取一些外部数据资源")])]),t._v(" "),e("h3",{attrs:{id:"更新阶段-componentwillreceiveprops"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新阶段-componentwillreceiveprops"}},[t._v("#")]),t._v(" 更新阶段 componentWillReceiveProps")]),t._v(" "),e("ul",[e("li",[t._v("组件接收到新 props 的时候触发")]),t._v(" "),e("li",[t._v("在此对比新 props 和原来的 props")]),t._v(" "),e("li",[t._v("不推荐使用")])]),t._v(" "),e("h3",{attrs:{id:"更新阶段-shouldcomponentupdate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新阶段-shouldcomponentupdate"}},[t._v("#")]),t._v(" 更新阶段 shouldComponentUpdate")]),t._v(" "),e("ul",[e("li",[t._v("是否要继续执行 render 方法")]),t._v(" "),e("li",[t._v("可以由 PureComponent 自动实现")])]),t._v(" "),e("h3",{attrs:{id:"更新阶段-componentdidupdate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新阶段-componentdidupdate"}},[t._v("#")]),t._v(" 更新阶段 componentDidUpdate")]),t._v(" "),e("ul",[e("li",[t._v("每次 UI 更新时调用")]),t._v(" "),e("li",[t._v("更新一些外部数据资源")])]),t._v(" "),e("h3",{attrs:{id:"卸载阶段-componentwillunmount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载阶段-componentwillunmount"}},[t._v("#")]),t._v(" 卸载阶段 componentWillUnmount")]),t._v(" "),e("ul",[e("li",[t._v("组件移除时候调用")]),t._v(" "),e("li",[t._v("可以用来做资源的释放")])])])}),[],!1,null,null,null);a.default=o.exports}}]);