(window.webpackJsonp=window.webpackJsonp||[]).push([[335],{987:function(t,a,s){"use strict";s.r(a);var e=s(10),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_1-撤销-add-commit-操作-和修改-commit-备注"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-撤销-add-commit-操作-和修改-commit-备注"}},[t._v("#")]),t._v(" 1.撤销 add commit 操作 和修改 commit 备注")]),t._v(" "),a("h2",{attrs:{id:"_1-1-撤销-add-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-撤销-add-操作"}},[t._v("#")]),t._v(" 1.1.撤销 add 操作")]),t._v(" "),a("h3",{attrs:{id:"_1-1-1-撤销当前全部-add"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-撤销当前全部-add"}},[t._v("#")]),t._v(" 1.1.1.撤销当前全部 add")]),t._v(" "),a("p",[t._v("git 如何取消add操作，这里仅取消提交到库存区这个动作，只撤消动作，修改的文件不变")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以直接使用命令 绿字变红字(撤销add)")]),t._v("\ngit reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("\n")])])]),a("h3",{attrs:{id:"_1-1-2-某个文件撤销-add-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-某个文件撤销-add-操作"}},[t._v("#")]),t._v(" 1.1.2.某个文件撤销 add 操作")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("git reset "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("  文件名\n")])])]),a("h2",{attrs:{id:"_1-2-撤销文件修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-撤销文件修改"}},[t._v("#")]),t._v(" 1.2.撤销文件修改")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 红字变无 (撤销单个文件没add修改)")]),t._v("\ngit checkout 文件\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 撤销所有文件")]),t._v("\ngit checkout "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" \n")])])]),a("h2",{attrs:{id:"_1-3-撤销-commit-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-撤销-commit-操作"}},[t._v("#")]),t._v(" 1.3.撤销 commit 操作")]),t._v(" "),a("ul",[a("li",[t._v("场景：")])]),t._v(" "),a("p",[t._v("git add newFiles")]),t._v(" "),a("p",[t._v("git commit -m '新增xx页面'")]),t._v(" "),a("p",[t._v("执行commit后，还没执行push时，想要撤销这次的commit，该怎么办？")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 撤销 commit ")]),t._v("\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("soft "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 连add也撤销了 别瞎用这个。。。 这个带有 git checkout . 的效果")]),t._v("\ngit reset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hard "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n")])])]),a("ul",[a("li",[t._v("reset 命令只能回滚最新的提交，无法满足保留最后一次提交只回滚之前的某次提交。")])]),t._v(" "),a("h3",{attrs:{id:"_1-3-1-命令解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-命令解释"}},[t._v("#")]),t._v(" 1.3.1.命令解释")]),t._v(" "),a("ul",[a("li",[t._v("HEAD^")])]),t._v(" "),a("p",[t._v("表示上一个版本，即上一次的commit，几个^代表几次提交，如果回滚两次就是HEAD^^。\n也可以写成HEAD~1，如果进行两次的commit，想要都撤回，可以使用HEAD~2。")]),t._v(" "),a("ul",[a("li",[t._v("--soft")])]),t._v(" "),a("p",[t._v("不删除工作空间的改动代码 ，撤销commit，不撤销add")]),t._v(" "),a("ul",[a("li",[t._v("--hard")])]),t._v(" "),a("p",[t._v("删除工作空间的改动代码，撤销commit且撤销add")]),t._v(" "),a("h2",{attrs:{id:"_1-4-commit-备注修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-commit-备注修改"}},[t._v("#")]),t._v(" 1.4.commit 备注修改")]),t._v(" "),a("p",[t._v("如果commit后面的注释写错了，先别急着撤销，可以运行git commit --amend\n进入vim编辑模式，修改完保存即可")])])}),[],!1,null,null,null);a.default=r.exports}}]);