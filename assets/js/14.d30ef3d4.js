(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{286:function(s,a,t){s.exports=t.p+"assets/img/5.5.86d72b44.png"},509:function(s,a,t){s.exports=t.p+"assets/img/5.2.1cbd0469.png"},510:function(s,a,t){s.exports=t.p+"assets/img/5.6.a39aa4d6.png"},511:function(s,a,t){s.exports=t.p+"assets/img/5.7.7f5baf74.png"},512:function(s,a,t){s.exports=t.p+"assets/img/5.3.32c05f22.png"},513:function(s,a,t){s.exports=t.p+"assets/img/5.4.3687454b.png"},514:function(s,a,t){s.exports=t.p+"assets/img/5.8.e7fbf25d.png"},515:function(s,a,t){s.exports=t.p+"assets/img/5.9.c96f5a8e.png"},516:function(s,a,t){s.exports=t.p+"assets/img/5.10.8c52e964.png"},517:function(s,a,t){s.exports=t.p+"assets/img/5.11.25c5a77c.png"},518:function(s,a,t){s.exports=t.p+"assets/img/5.12.d399a0b6.png"},519:function(s,a,t){s.exports=t.p+"assets/img/5.13.e789fba1.png"},520:function(s,a,t){s.exports=t.p+"assets/img/5.14.9376a7a0.png"},894:function(s,a,t){"use strict";t.r(a);var e=t(10),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_5-用户管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-用户管理"}},[s._v("#")]),s._v(" 5.用户管理")]),s._v(" "),a("p",[s._v("当你的身份证号为 0 时， linux 系统的超级用户， uid 为 0， 称为 root。")]),s._v(" "),a("p",[s._v("普通用户由 root 创建， uid 号码从 1000 开始")]),s._v(" "),a("p",[s._v("系统中虚拟用户， uid 是 1~999， 直接用")]),s._v(" "),a("h2",{attrs:{id:"_5-1-常用的命令解释器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-常用的命令解释器"}},[s._v("#")]),s._v(" 5.1.常用的命令解释器")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/bin/sh 默认\n/bin/bash 默认\n/sbin/nologin 虚拟用户\n/dash ubuntu\ncsh unix\ntsh unix\n")])])]),a("h2",{attrs:{id:"_5-2-用户的配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-用户的配置文件"}},[s._v("#")]),s._v(" 5.2.用户的配置文件")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/etc/passwd  新创建的用户信息，会追加到这个文件结尾\n")])])]),a("ul",[a("li",[s._v("查看用户")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("tail /etc/passwd\n\ntail -5 /etc/passwd  # 查看后五行\n")])])]),a("h2",{attrs:{id:"_5-3-创建普通用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-创建普通用户"}},[s._v("#")]),s._v(" 5.3.创建普通用户")]),s._v(" "),a("h3",{attrs:{id:"_5-3-1-创建用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-创建用户"}},[s._v("#")]),s._v(" 5.3.1.创建用户")]),s._v(" "),a("p",[s._v("使用 useradd 创建的账号，实际上是保存在 /etc/passwd 文本文件中")]),s._v(" "),a("p",[a("img",{attrs:{src:t(509),alt:"useradd"}})]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 创建普通用户，创建普通用户的同时，会创建一样的用户组， 生成用户家目录 /home/用户名称\nuseradd 用户名称  \n\n/etc/shadow  存放用户加密后的密码\n/etc/group  存放用户组的信息\n用户指定了 /bin/bash 解释器， 代表用户可以登录， 进行命令翻译\n/sbin/nologin 不允许登录\n")])])]),a("p",[a("img",{attrs:{src:t(286),alt:"useradd"}})]),s._v(" "),a("h3",{attrs:{id:"_5-3-2-更改用户密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-更改用户密码"}},[s._v("#")]),s._v(" 5.3.2.更改用户密码")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("passwd 用户名\n")])])]),a("p",[a("img",{attrs:{src:t(510),alt:"用户"}})]),s._v(" "),a("h3",{attrs:{id:"_5-3-3-用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-3-用户组"}},[s._v("#")]),s._v(" 5.3.3.用户组")]),s._v(" "),a("p",[a("img",{attrs:{src:t(511),alt:"用户"}})]),s._v(" "),a("h2",{attrs:{id:"_5-4-查看目录家文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-查看目录家文件"}},[s._v("#")]),s._v(" 5.4.查看目录家文件")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@bkyyou ~]# ls -a  /home/zs/ \n.  ..  .bash_history  .bash_logout  .bash_profile  .bashrc  .cache  .config\n[root@bkyyou ~]# \n\n.bash_profile  # 用户个人的配置文件\n")])])]),a("ul",[a("li",[s._v("用户目录家不存在解决办法")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 假设 zs 用户的 文件夹丢失\ncp /etc/skel/.bash* /home/zs/\n")])])]),a("h2",{attrs:{id:"_5-5-创建用户流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-创建用户流程"}},[s._v("#")]),s._v(" 5.5.创建用户流程")]),s._v(" "),a("p",[a("img",{attrs:{src:t(512),alt:"创建用户流程"}})]),s._v(" "),a("ul",[a("li",[s._v("文件 /etc/default/useradd")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(513),alt:"创建用户流程"}})]),s._v(" "),a("h2",{attrs:{id:"_5-6-创建用户有关的目录-etc-skel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-创建用户有关的目录-etc-skel"}},[s._v("#")]),s._v(" 5.6.创建用户有关的目录 /etc/skel")]),s._v(" "),a("p",[a("img",{attrs:{src:t(286),alt:"创建用户流程"}})]),s._v(" "),a("h2",{attrs:{id:"_5-7-usermode-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-usermode-命令"}},[s._v("#")]),s._v(" 5.7.usermode 命令")]),s._v(" "),a("p",[s._v("usermode 用于修改已存在的用户信息，只能修改未使用中的用户")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('usermode -u 1500 -s /bin/bash -c changeUser -G old -e "2020/10/10" -f 10 -d /home/luffychao zs\n')])])]),a("p",[a("img",{attrs:{src:t(514),alt:"创建用户流程"}})]),s._v(" "),a("h2",{attrs:{id:"_5-8-userdel-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-8-userdel-命令"}},[s._v("#")]),s._v(" 5.8.userdel 命令")]),s._v(" "),a("p",[s._v("删除用户与相关文件")]),s._v(" "),a("blockquote",[a("p",[s._v("建议注释 /etc/passwd 用户信息而非直接删除用户")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(515),alt:"创建用户流程"}})]),s._v(" "),a("ul",[a("li",[s._v("案例")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("userdel oldyu  # 保留家目录\nuserdel -rf oldyu  # 强制删除用户与家目录\n")])])]),a("h2",{attrs:{id:"_5-9-批量更新密码命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-9-批量更新密码命令"}},[s._v("#")]),s._v(" 5.9.批量更新密码命令")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1. 查看当前机器的用户信息\ntail passwd\n\n2. 批量修改密码， ctrl + d 结束输入\nchpasswd\n")])])]),a("p",[a("img",{attrs:{src:t(516),alt:"创建用户流程"}})]),s._v(" "),a("h2",{attrs:{id:"_5-10-查看登录的基本信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-10-查看登录的基本信息"}},[s._v("#")]),s._v(" 5.10.查看登录的基本信息")]),s._v(" "),a("h3",{attrs:{id:"_5-10-1-whoami"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-10-1-whoami"}},[s._v("#")]),s._v(" 5.10.1.whoami")]),s._v(" "),a("p",[s._v("显示当前登录用户， 我是谁")]),s._v(" "),a("h3",{attrs:{id:"_5-10-2-w"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-10-2-w"}},[s._v("#")]),s._v(" 5.10.2.w")]),s._v(" "),a("p",[s._v("显示当前已登录用户")]),s._v(" "),a("p",[a("img",{attrs:{src:t(517),alt:"创建用户流程"}})]),s._v(" "),a("h3",{attrs:{id:"_5-10-3-last-lastout-查看用户详细的登录信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-10-3-last-lastout-查看用户详细的登录信息"}},[s._v("#")]),s._v(" 5.10.3.last lastout 查看用户详细的登录信息")]),s._v(" "),a("p",[a("img",{attrs:{src:t(518),alt:"last"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(519),alt:"lastout"}})]),s._v(" "),a("h2",{attrs:{id:"_5-11-linux用户身份切换命令-su"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-11-linux用户身份切换命令-su"}},[s._v("#")]),s._v(" 5.11.Linux用户身份切换命令-su")]),s._v(" "),a("blockquote",[a("p",[s._v("root 用不切换其他用户，无需密码")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("su - 用户名称\n")])])]),a("p",[a("img",{attrs:{src:t(520),alt:"su"}})]),s._v(" "),a("h2",{attrs:{id:"_5-11-sudo-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-11-sudo-命令"}},[s._v("#")]),s._v(" 5.11.sudo 命令")]),s._v(" "),a("p",[s._v("sudo 命令用来以其他身份来执行命令，预设身份是 root。在 /etc/sudoers 中设置了可执行 sudo 指令的用户")]),s._v(" "),a("ul",[a("li",[s._v("visudo 命令")])]),s._v(" "),a("p",[s._v("修改 /etc/sudoers 文件")]),s._v(" "),a("p",[s._v("操作，复制root这一行一行改一个用户名")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("root\tALL=(ALL) \tALL\nzs\tALL=(ALL) \tALL\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);