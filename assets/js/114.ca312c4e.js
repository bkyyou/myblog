(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{632:function(n,a,t){n.exports=t.p+"assets/img/3.1.18150485.jpg"},982:function(n,a,t){"use strict";t.r(a);var e=t(10),s=Object(e.a)({},(function(){var n=this,a=n._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"_3-启动nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动nginx"}},[n._v("#")]),n._v(" 3.启动nginx")]),n._v(" "),a("h2",{attrs:{id:"_3-1-复制配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-复制配置"}},[n._v("#")]),n._v(" 3.1.复制配置")]),n._v(" "),a("p",[n._v("随便启动一个nginx实例，只是为了复制出配置")]),n._v(" "),a("p",[n._v("如果没有对应的nginx版本，会自动去docker仓库下载")]),n._v(" "),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("docker run -p 80:80 --name nginx -d nginx\n")])])]),a("h2",{attrs:{id:"_3-2-将容器内的配置文件拷贝到当前文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-将容器内的配置文件拷贝到当前文件"}},[n._v("#")]),n._v(" 3.2.将容器内的配置文件拷贝到当前文件")]),n._v(" "),a("p",[n._v("我们将配置文件放到 /mydata/nginx目录下")]),n._v(" "),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /mydata/\nmkdir nginx\ndocker container cp nginx:/etc/nginx .\nmv nginx/ conf/\nmkdir nginx\nmv conf/ nginx/\n")])])]),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("docker cp nginx01:/etc/nginx/nginx.conf /home/nginx/\ndocker cp nginx01:/etc/nginx/conf.d /home/nginx/conf/\ndocker cp nginx01:/usr/share/nginx/html /home/nginx/html\ndocker cp nginx01:/var/log/nginx/ /home/nginx/logs/\n// 这里的nginx01是容器名称 \n// 第一个路径：容器内的路径\n// 第二个路径：主机路径(对应第二步创建的nginx文件夹)\n")])])]),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("docker container cp nginx:/usr/share/nginx/html .\ndocker container cp nginx:/var/log/nginx .\ndocker container cp nginx:/etc/nginx  .\n")])])]),a("p",[n._v("目录结构如下：")]),n._v(" "),a("p",[a("img",{attrs:{src:t(632),alt:"文件目录"}})]),n._v(" "),a("h2",{attrs:{id:"_3-3-3-终止-删除原容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-终止-删除原容器"}},[n._v("#")]),n._v(" 3.3.3.终止+删除原容器")]),n._v(" "),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("docker stop nginx\ndocker rm nginx\n")])])]),a("h2",{attrs:{id:"_3-4-4-创建新的nginx-执行以下命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-4-创建新的nginx-执行以下命令"}},[n._v("#")]),n._v(" 3.4.4.创建新的nginx，执行以下命令")]),n._v(" "),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("docker run -p 80:80 --name nginx \n-v /var/lib/docker/volumes/nginx01/html:/usr/share/nginx/html \n-v /var/lib/docker/volumes/nginx01/logs:/var/log/nginx \n-v /var/lib/docker/volumes/nginx01/conf:/etc/nginx \n-d nginx:1.10\n")])])]),a("div",{staticClass:"language-s extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("docker run -d -p 5000:80 --name nginx -v /var/lib/docker/volumes/nginx01/html:/usr/share/nginx/html -v /var/lib/docker/volumes/nginx01/logs:/var/log/nginx -v /var/lib/docker/volumes/nginx01/nginx:/etc/nginx nginx\n")])])]),a("blockquote",[a("p",[n._v("对应 nginx 的 html 文件访问位置, nginx 的 日志位置 和 nginx 的配置")])]),n._v(" "),a("h2",{attrs:{id:"_3-5-创建成功-访问nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-创建成功-访问nginx"}},[n._v("#")]),n._v(" 3.5.创建成功，访问nginx")]),n._v(" "),a("p",[n._v("我们可以在我们挂载的mydata/nginx/html目录下创建 index.html。")])])}),[],!1,null,null,null);a.default=s.exports}}]);