(window.webpackJsonp=window.webpackJsonp||[]).push([[278],{899:function(s,t,a){"use strict";a.r(t);var e=a(10),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_11-expr命令实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-expr命令实战"}},[s._v("#")]),s._v(" 11.expr命令实战")]),s._v(" "),t("p",[s._v("简单的计算器执行命令")]),s._v(" "),t("h2",{attrs:{id:"_11-1-expr计算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-1-expr计算"}},[s._v("#")]),s._v(" 11.1.expr计算")]),s._v(" "),t("blockquote",[t("p",[s._v("expr 命令并不是很好用，基于空格传入参数，但是在 shell 里一些元字符都是有特殊含义的")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM-0-4-centos ~]# expr 1 + 2\n3\n[root@VM-0-4-centos ~]# expr 1 \\*  2\n2\n[root@VM-0-4-centos ~]# expr 1 * 2\nexpr: 语法错误\n[root@VM-0-4-centos ~]# expr length 12345678\n8\n[root@VM-0-4-centos ~]# expr length 12345678*()\n11\n[root@VM-0-4-centos ~]# expr 5 \\> 5\n0\n[root@VM-0-4-centos ~]# expr 5 \\> 4\n1\n[root@VM-0-4-centos ~]# \n")])])]),t("h2",{attrs:{id:"_11-2-expr模式匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-expr模式匹配"}},[s._v("#")]),s._v(" 11.2.expr模式匹配")]),s._v(" "),t("p",[s._v("expr 也支持模式匹配功能")]),s._v(" "),t("h3",{attrs:{id:"_11-2-1-两个特殊符号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-1-两个特殊符号"}},[s._v("#")]),s._v(" 11.2.1.两个特殊符号")]),s._v(" "),t("p",[s._v("： 冒号，计算字符串字符数量\n.* 任意的字符串匹配 0 次或多次")]),s._v(" "),t("ul",[t("li",[s._v("11.2.2.语法")])]),s._v(" "),t("p",[s._v("最后的匹配模式可以自定义  .* 可以换成别的")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('expr 字符串 ":" ".*"\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('[root@VM-0-4-centos ~]# expr yc.png ":" ".*"\n6\n[root@VM-0-4-centos ~]# expr yc.png ":" ".*p"\n4\n[root@VM-0-4-centos ~]# \n')])])]),t("h2",{attrs:{id:"_11-3-判断文件名后缀是否合法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-判断文件名后缀是否合法"}},[s._v("#")]),s._v(" 11.3.判断文件名后缀是否合法")]),s._v(" "),t("p",[s._v("执行一个脚本，传入文件名，然后判断该文件，是否是 .jpg 图片")]),s._v(" "),t("blockquote",[t("p",[s._v("思路： 使用 expr 的匹配模式，字符串匹配行就统计其长度，匹配不上就返回 0，在shell中，0就是为假的意思，非 0 就是真")])]),s._v(" "),t("p",[s._v("有问题，看着玩就行")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# if [ `expr "$1" ":" ".*\\.jpg"` ]')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*\\.jpg"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"这是 .jpg 结尾"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"这不是 .jpg 结尾"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("str1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" I am zs, I am a teacher.\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" length $str1"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mac 不识别 length 语法？？？")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$str1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);