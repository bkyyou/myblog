(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{276:function(s,a,t){s.exports=t.p+"assets/img/7.1.f688f56b.png"},911:function(s,a,t){"use strict";t.r(a);var e=t(10),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_7-父子shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-父子shell"}},[s._v("#")]),s._v(" 7.父子shell")]),s._v(" "),a("ul",[a("li",[s._v("source 和 点， 执行脚本，只在当前 shell 环境中执行生效")]),s._v(" "),a("li",[s._v("指定 bash sh 解释器运行脚本，是开启 subshell，开启子 shell 运行脚本命令")]),s._v(" "),a("li",[s._v("./script, 都会指定 shebang， 通过解释器运行，也是开启 subshell 运行脚本命令")])]),s._v(" "),a("h2",{attrs:{id:"_7-1-ps管理进程命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-ps管理进程命令"}},[s._v("#")]),s._v(" 7.1.ps管理进程命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("  显示 "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("  PID  "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("  列出所有进程信息，如同 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" 选项 option\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过一条命令，检查父子 shell 关系")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--forest")]),s._v(" \n")])])]),a("p",[s._v("输入 bash 就可以进入子进程， exit 退出当前（一个）进程")]),s._v(" "),a("h2",{attrs:{id:"_7-2-创建进程列表-创建子进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-创建进程列表-创建子进程"}},[s._v("#")]),s._v(" 7.2.创建进程列表（创建子进程）")]),s._v(" "),a("h3",{attrs:{id:"_7-2-1-创建子进程运行的意义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-1-创建子进程运行的意义"}},[s._v("#")]),s._v(" 7.2.1.创建子进程运行的意义")]),s._v(" "),a("p",[s._v("不影响当前窗口的使用")]),s._v(" "),a("h3",{attrs:{id:"_7-2-2-创建方式-小括号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-2-创建方式-小括号"}},[s._v("#")]),s._v(" 7.2.2.创建方式 小括号")]),s._v(" "),a("p",[s._v("执行一系列shell命令")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('ls;cd;pwd;echo "hello world"\n')])])]),a("ul",[a("li",[s._v("shell 的进程列表理念，需要使用 （）小括号, 如下执行方式称之为进程列表。开启小括号就是开启子shell运行命令")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASH_SUBSHELL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("ul",[a("li",[s._v("多层括号，子 shell 嵌套运行")])]),s._v(" "),a("p",[s._v("一个括号开启一个shell运行命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$BASH_SUBSHELL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n")])])]),a("h2",{attrs:{id:"_7-3-检查是否在子进程shell-bash-subshell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-检查是否在子进程shell-bash-subshell"}},[s._v("#")]),s._v(" 7.3.检查是否在子进程shell BASH_SUBSHELL")]),s._v(" "),a("p",[s._v("该变量特点，如果是 0， 就是在当前 shell 环境执行的，否则就是开辟子shell去运行的")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("echo $BASH_SUBSHELL\n")])])]),a("h2",{attrs:{id:"_7-4-linux的内外置命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-linux的内外置命令"}},[s._v("#")]),s._v(" 7.4.linux的内外置命令")]),s._v(" "),a("p",[s._v("内置命令： 在系统启动时就加载入内存，常驻内存，执行效率更高，但是占用资源。")]),s._v(" "),a("p",[s._v("外置命令： 系统需要从硬盘中读取程序文件，再读入内存加载")]),s._v(" "),a("h3",{attrs:{id:"_7-4-1-外置命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-1-外置命令"}},[s._v("#")]),s._v(" 7.4.1.外置命令")]),s._v(" "),a("p",[s._v("自己单独下载的文件系统命令，处于 bash shell 之外的程序")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/bin\n/usr/bin\n/sbin\n/usr/sbin\n")])])]),a("ul",[a("li",[s._v("特点\n一定会开启子进程执行")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@VM-0-4-centos ~]# ps -f --forest\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot     14871 14833  0 10:08 pts/0    00:00:00 -bash\nroot     15974 14871  0 10:12 pts/0    00:00:00  \\_ ps -f --forest\nroot     13373 13082  0  2022 pts/0    00:00:00 /bin/bash\nroot     13751 13373  0  2022 pts/0    00:00:00  \\_ mysql -uroot -px xxxx\n")])])]),a("p",[a("img",{attrs:{src:t(276),alt:"开启子进程"}})]),s._v(" "),a("h3",{attrs:{id:"_7-4-2-内置命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-2-内置命令"}},[s._v("#")]),s._v(" 7.4.2.内置命令")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("特点\n内置命令不会产生子进程去执行。内置命令和 shell 是一体的，是 shell 的一部分，系统启动后就执行在内存中了")])]),s._v(" "),a("li",[a("p",[s._v("验证 type")])])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@VM-0-4-centos ~]# type cd\ncd 是 shell 内嵌\n\n# 查看 linux 的内置 shell 命令\n[root@VM-0-4-centos ~]# compgen -b\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);