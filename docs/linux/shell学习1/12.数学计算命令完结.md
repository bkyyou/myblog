# 12.数学计算命令完结

## 12.1.bc命令

> bc 计算器
> awk 支持数值计算
> 中括号运算

### 12.1.1.计算器使用

bc 命令当做计算器来用的，命令行的计算器，交互式的操作，小数的计算

```
MacBook-Pro-7:~ j$ bc
bc 1.06
Copyright 1991-1994, 1997, 1998, 2000 Free Software Foundation, Inc.
This is free software with ABSOLUTELY NO WARRANTY.
For details type `warranty'. 
1+2
3
2-3
-1
6/2
3
6.2/2
3
1.11-2.22
-1.11
```

### 12.1.2.bc命令结合管道符来计算数学

> 利用 echo 输出字符串通过 | 交给 bc

```
MacBook-Pro-7:~ j$ echo "4*4"
4*4
MacBook-Pro-7:~ j$ echo "4*4" | bc
16
MacBook-Pro-7:~ j$ 
MacBook-Pro-7:~ j$ echo "4.2*4" | bc
16.8
MacBook-Pro-7:~ j$ num=5
MacBook-Pro-7:~ j$ result=`echo $num*4|bc`
MacBook-Pro-7:~ j$ echo $result
20
```

### 12.1.2.bc案例

tr 替换

* 生成 1 - 100 相加的字符串

```
MacBook-Pro-7:~ j$ echo {1..100}
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100
MacBook-Pro-7:~ j$ echo {1..100} | tr " " "+"
1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22+23+24+25+26+27+28+29+30+31+32+33+34+35+36+37+38+39+40+41+42+43+44+45+46+47+48+49+50+51+52+53+54+55+56+57+58+59+60+61+62+63+64+65+66+67+68+69+70+71+72+73+74+75+76+77+78+79+80+81+82+83+84+85+86+87+88+89+90+91+92+93+94+95+96+97+98+99+100
MacBook-Pro-7:~ j$ 
```

seq -s 指定分隔符
```
MacBook-Pro-7:~ j$ seq -s "+" 100
1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22+23+24+25+26+27+28+29+30+31+32+33+34+35+36+37+38+39+40+41+42+43+44+45+46+47+48+49+50+51+52+53+54+55+56+57+58+59+60+61+62+63+64+65+66+67+68+69+70+71+72+73+74+75+76+77+78+79+80+81+82+83+84+85+86+87+88+89+90+91+92+93+94+95+96+97+98+99+100+MacBook-Pro-7:~ j$ 
```

* 实现

```
# 第一种 bc 
MacBook-Pro-7:~ j$ echo {1..100} | tr " " "+" | bc
5050
MacBook-Pro-7:~ j$ 

# 第二种 $(()) seq
# 在服务器上
[root@VM-0-4-centos ~]# seq -s "+" 100
1+2+3+4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22+23+24+25+26+27+28+29+30+31+32+33+34+35+36+37+38+39+40+41+42+43+44+45+46+47+48+49+50+51+52+53+54+55+56+57+58+59+60+61+62+63+64+65+66+67+68+69+70+71+72+73+74+75+76+77+78+79+80+81+82+83+84+85+86+87+88+89+90+91+92+93+94+95+96+97+98+99+100
[root@VM-0-4-centos ~]# echo $((`seq -s "+" 100`))
5050
[root@VM-0-4-centos ~]# 

# 在 mac 终端
MacBook-Pro-7:~ j$ echo  $((`seq -s "+" 100`0))
5050
MacBook-Pro-7:~ j$ echo  $(($(seq -s "+" 100)0))
5050

# 第三种 expr
# expr 命令计算，这里稍有复杂，expr 是接受多个参数来计算的
# expr 接受以空格分割的，多个参数
# linux 下构造参数命令 xargs
[root@VM-0-4-centos ~]# seq -s " + " 100 | xargs expr 
5050
[root@VM-0-4-centos ~]# 

```

## 12.2.awk 计算

```
[root@VM-0-4-centos ~]# echo "3.2 2.2" | awk '{print $1+$2}'
5.4
[root@VM-0-4-centos ~]# echo "3.2 2.2" | awk '{print ($1+4*$2)}'
12
```

## 12.3.中括号计算

```
[root@VM-0-4-centos ~]# num=5
[root@VM-0-4-centos ~]# res=$[num*4]
[root@VM-0-4-centos ~]# echo $res
20
[root@VM-0-4-centos ~]# 
```

